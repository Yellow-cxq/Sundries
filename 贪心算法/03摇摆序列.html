<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>摇摆序列</title>
</head>
<body>
    
</body>
<script>
    /*
    描述:一个整数序列，如果两个相邻元素的差恰好正负(负正)交替出现，
    则称其为摇摆序列。一个小于2个元素的序列直接就是摇摆序列。
    现给定一个序列，求这个序列满足摇摆序列的最长子序列的长度？
    */
    function yaobai(nums) {
        if (nums.length < 2) {
            return nums.length
        }
        const BEGIN = 0
        const UP = 1
        const DOWN = 2
        let STATE = BEGIN
        let max_length = 1
        for (let i = 1; i < nums.length; i++) {
            switch(STATE) {
                case BEGIN: 
                    if (nums[i-1] < nums[i]) {
                        STATE = UP
                        max_length++
                    }
                    else if (nums[i-1] > nums[i]) {
                        STATE = DOWN
                        max_length++
                    }
                break
                case UP: 
                    if (nums[i-1] > nums[i]) {
                        STATE = DOWN
                        max_length++
                    }
                break
                case DOWN: 
                    if (nums[i-1] < nums[i]) {
                        STATE = UP
                        max_length++
                    }
                break    
            }
        }
        return max_length
    }

    console.log(yaobai([1,17,5,10,13,15,,10,5,16,8]))
</script>
</html>